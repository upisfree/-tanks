(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;for(d=document.getElementsByTagName("canvas")[0],e=d.getContext("2d"),i=640,k=32,j=i/k,c=[],b={CTRL:17,ALT:18,ESC:27,SPACE:32,ENTER:13,ARROW:{UP:38,LEFT:37,DOWN:40,RIGHT:39},W:87,A:65,S:83,D:68},Math.randomInt=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)},f=function(a,b,c){var d;return d=new Image,d.src="../textures/"+c+".png",d.onload=function(){return e.drawImage(d,a,b)}},h=function(){var a,b,d,e;for(e=[],b=0,d=c.length;d>b;b++)a=c[b],e.push(f(a.x*k,a.y*k,a.texture));return e},a=function(){function a(a,b,d,e){this.x=a,this.y=b,this.texture=d,this.i=null!=e?e:c.length}return a.prototype.move=function(a,b){return this.x+=a,this.y+=b,c[this.i]=this},a}(),p=l=0,n=j-1;n>=0?n>=l:l>=n;p=n>=0?++l:--l)for(q=m=0,o=j-1;o>=0?o>=m:m>=o;q=o>=0?++m:--m)c.push(new a(p,q,"tower"));g=new a(0,10,"player"),c.push(g),window.onkeydown=function(a){switch(a.keyCode){case b.ARROW.LEFT:case b.A:return console.log(g.move(-1,0));case b.ARROW.UP:case b.W:return console.log(g.move(0,-1));case b.ARROW.RIGHT:case b.D:return console.log(g.move(1,0));case b.ARROW.DOWN:case b.S:return console.log(g.move(0,1))}},setInterval(function(){return h()},100)}).call(this);